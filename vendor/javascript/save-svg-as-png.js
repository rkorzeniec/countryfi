var e={};(function(){var t=e||false||this||window;t.default=t;var r="http://www.w3.org/2000/xmlns/";var n="http://www.w3.org/1999/xhtml";var o="http://www.w3.org/2000/svg";var i='<?xml version="1.0" standalone="no"?><!DOCTYPE svg PUBLIC "-//W3C//DTD SVG 1.1//EN" "http://www.w3.org/Graphics/SVG/1.1/DTD/svg11.dtd" [<!ENTITY nbsp "&#160;">]>';var a=/url\(["']?(.+?)["']?\)/;var u={woff2:"font/woff2",woff:"font/woff",otf:"application/x-font-opentype",ttf:"application/x-font-ttf",eot:"application/vnd.ms-fontobject",sfnt:"application/font-sfnt",svg:"image/svg+xml"};var s=function isElement(e){return e instanceof HTMLElement||e instanceof SVGElement};var l=function requireDomNode(e){if(!s(e))throw new Error("an HTMLElement or SVGElement is required; got "+e)};var c=function requireDomNodePromise(e){return new Promise((function(t,r){s(e)?t(e):r(new Error("an HTMLElement or SVGElement is required; got "+e))}))};var f=function isExternal(e){return e&&0===e.lastIndexOf("http",0)&&-1===e.lastIndexOf(window.location.host)};var d=function getFontMimeTypeFromUrl(e){var t=Object.keys(u).filter((function(t){return e.indexOf("."+t)>0})).map((function(e){return u[e]}));if(t)return t[0];console.error("Unknown font format for "+e+". Fonts may not be working correctly.");return"application/octet-stream"};var v=function arrayBufferToBase64(e){var t="";var r=new Uint8Array(e);for(var n=0;n<r.byteLength;n++)t+=String.fromCharCode(r[n]);return window.btoa(t)};var h=function getDimension(e,t,r){var n=e.viewBox&&e.viewBox.baseVal&&e.viewBox.baseVal[r]||null!==t.getAttribute(r)&&!t.getAttribute(r).match(/%$/)&&parseInt(t.getAttribute(r))||e.getBoundingClientRect()[r]||parseInt(t.style[r])||parseInt(window.getComputedStyle(e).getPropertyValue(r));return"undefined"===typeof n||null===n||isNaN(parseFloat(n))?0:n};var w=function getDimensions(e,t,r,n){if("svg"===e.tagName)return{width:r||h(e,t,"width"),height:n||h(e,t,"height")};if(e.getBBox){var o=e.getBBox(),i=o.x,a=o.y,u=o.width,s=o.height;return{width:i+u,height:a+s}}};var g=function reEncode(e){return decodeURIComponent(encodeURIComponent(e).replace(/%([0-9A-F]{2})/g,(function(e,t){var r=String.fromCharCode("0x"+t);return"%"===r?"%25":r})))};var m=function uriToBlob(e){var t=window.atob(e.split(",")[1]);var r=e.split(",")[0].split(":")[1].split(";")[0];var n=new ArrayBuffer(t.length);var o=new Uint8Array(n);for(var i=0;i<t.length;i++)o[i]=t.charCodeAt(i);return new Blob([n],{type:r})};var p=function query(e,t){if(t)try{return e.querySelector(t)||e.parentNode&&e.parentNode.querySelector(t)}catch(e){console.warn('Invalid CSS selector "'+t+'"',e)}};var y=function detectCssFont(e,t){var r=e.cssText.match(a);var n=r&&r[1]||"";if(n&&!n.match(/^data:/)&&"about:blank"!==n){var o=n.startsWith("../")?t+"/../"+n:n.startsWith("./")?t+"/."+n:n;return{text:e.cssText,format:d(o),url:o}}};var b=function inlineImages(e){return Promise.all(Array.from(e.querySelectorAll("image")).map((function(e){var t=e.getAttributeNS("http://www.w3.org/1999/xlink","href")||e.getAttribute("href");if(!t)return Promise.resolve(null);f(t)&&(t+=(-1===t.indexOf("?")?"?":"&")+"t="+(new Date).valueOf());return new Promise((function(r,n){var o=document.createElement("canvas");var i=new Image;i.crossOrigin="anonymous";i.src=t;i.onerror=function(){return n(new Error("Could not load "+t))};i.onload=function(){o.width=i.width;o.height=i.height;o.getContext("2d").drawImage(i,0,0);e.setAttributeNS("http://www.w3.org/1999/xlink","href",o.toDataURL("image/png"));r(true)}}))})))};var x={};var A=function inlineFonts(e){return Promise.all(e.map((function(e){return new Promise((function(t,r){if(x[e.url])return t(x[e.url]);var n=new XMLHttpRequest;n.addEventListener("load",(function(){var r=v(n.response);var o=e.text.replace(a,'url("data:'+e.format+";base64,"+r+'")')+"\n";x[e.url]=o;t(o)}));n.addEventListener("error",(function(r){console.warn("Failed to load font from: "+e.url,r);x[e.url]=null;t(null)}));n.addEventListener("abort",(function(r){console.warn("Aborted loading font from: "+e.url,r);t(null)}));n.open("GET",e.url);n.responseType="arraybuffer";n.send()}))}))).then((function(e){return e.filter((function(e){return e})).join("")}))};var S=null;var E=function styleSheetRules(){return S||(S=Array.from(document.styleSheets).map((function(e){try{return{rules:e.cssRules,href:e.href}}catch(t){console.warn("Stylesheet could not be loaded: "+e.href,t);return{}}})))};var C=function inlineCss(e,t){var r=t||{},n=r.selectorRemap,o=r.modifyStyle,i=r.modifyCss,a=r.fonts,u=r.excludeUnusedCss;var s=i||function(e,t){var r=n?n(e):e;var i=o?o(t):t;return r+"{"+i+"}\n"};var l=[];var c="undefined"===typeof a;var f=a||[];E().forEach((function(t){var r=t.rules,n=t.href;r&&Array.from(r).forEach((function(t){if("undefined"!=typeof t.style)if(p(e,t.selectorText))l.push(s(t.selectorText,t.style.cssText));else if(c&&t.cssText.match(/^@font-face/)){var r=y(t,n);r&&f.push(r)}else u||l.push(t.cssText)}))}));return A(f).then((function(e){return l.join("\n")+e}))};var T=function downloadOptions(){if(!navigator.msSaveOrOpenBlob&&!("download"in document.createElement("a")))return{popup:window.open()}};t.prepareSvg=function(e,t,i){l(e);var a=t||{},u=a.left,s=void 0===u?0:u,c=a.top,f=void 0===c?0:c,d=a.width,v=a.height,h=a.scale,g=void 0===h?1:h,m=a.responsive,p=void 0!==m&&m,y=a.excludeCss,x=void 0!==y&&y;return b(e).then((function(){var a=e.cloneNode(true);a.style.backgroundColor=(t||{}).backgroundColor||e.style.backgroundColor;var u=w(e,a,d,v),l=u.width,c=u.height;if("svg"!==e.tagName){if(!e.getBBox){console.error("Attempted to render non-SVG element",e);return}null!=a.getAttribute("transform")&&a.setAttribute("transform",a.getAttribute("transform").replace(/translate\(.*?\)/,""));var h=document.createElementNS("http://www.w3.org/2000/svg","svg");h.appendChild(a);a=h}a.setAttribute("version","1.1");a.setAttribute("viewBox",[s,f,l,c].join(" "));a.getAttribute("xmlns")||a.setAttributeNS(r,"xmlns",o);a.getAttribute("xmlns:xlink")||a.setAttributeNS(r,"xmlns:xlink","http://www.w3.org/1999/xlink");if(p){a.removeAttribute("width");a.removeAttribute("height");a.setAttribute("preserveAspectRatio","xMinYMin meet")}else{a.setAttribute("width",l*g);a.setAttribute("height",c*g)}Array.from(a.querySelectorAll("foreignObject > *")).forEach((function(e){e.setAttributeNS(r,"xmlns","svg"===e.tagName?o:n)}));if(!x)return C(e,t).then((function(e){var t=document.createElement("style");t.setAttribute("type","text/css");t.innerHTML="<![CDATA[\n"+e+"\n]]>";var r=document.createElement("defs");r.appendChild(t);a.insertBefore(r,a.firstChild);var n=document.createElement("div");n.appendChild(a);var o=n.innerHTML.replace(/NS\d+:href/gi,'xmlns:xlink="http://www.w3.org/1999/xlink" xlink:href');if("function"!==typeof i)return{src:o,width:l,height:c};i(o,l,c)}));var m=document.createElement("div");m.appendChild(a);var y=m.innerHTML;if("function"!==typeof i)return{src:y,width:l,height:c};i(y,l,c)}))};t.svgAsDataUri=function(e,r,n){l(e);return t.prepareSvg(e,r).then((function(e){var t=e.src,r=e.width,o=e.height;var a="data:image/svg+xml;base64,"+window.btoa(g(i+t));"function"===typeof n&&n(a,r,o);return a}))};t.svgAsPngUri=function(e,r,n){l(e);var o=r||{},i=o.encoderType,a=void 0===i?"image/png":i,u=o.encoderOptions,s=void 0===u?.8:u,c=o.canvg;var f=function convertToPng(e){var t=e.src,r=e.width,o=e.height;var i=document.createElement("canvas");var u=i.getContext("2d");var l=window.devicePixelRatio||1;i.width=r*l;i.height=o*l;i.style.width=i.width+"px";i.style.height=i.height+"px";u.setTransform(l,0,0,l,0,0);c?c(i,t):u.drawImage(t,0,0);var f=void 0;try{f=i.toDataURL(a,s)}catch(e){if("undefined"!==typeof SecurityError&&e instanceof SecurityError||"SecurityError"===e.name){console.error("Rendered SVG images cannot be downloaded in this browser.");return}throw e}"function"===typeof n&&n(f,i.width,i.height);return Promise.resolve(f)};return c?t.prepareSvg(e,r).then(f):t.svgAsDataUri(e,r).then((function(e){return new Promise((function(t,r){var n=new Image;n.onload=function(){return t(f({src:n,width:n.width,height:n.height}))};n.onerror=function(){r("There was an error loading the data URI as an image on the following SVG\n"+window.atob(e.slice(26))+"Open the following link to see browser's diagnosis\n"+e)};n.src=e}))}))};t.download=function(e,t,r){if(navigator.msSaveOrOpenBlob)navigator.msSaveOrOpenBlob(m(t),e);else{var n=document.createElement("a");if("download"in n){n.download=e;n.style.display="none";document.body.appendChild(n);try{var o=m(t);var i=URL.createObjectURL(o);n.href=i;n.onclick=function(){return requestAnimationFrame((function(){return URL.revokeObjectURL(i)}))}}catch(e){console.error(e);console.warn("Error while getting object URL. Falling back to string URL.");n.href=t}n.click();document.body.removeChild(n)}else if(r&&r.popup){r.popup.document.title=e;r.popup.location.replace(t)}}};t.saveSvg=function(e,r,n){var o=T();return c(e).then((function(e){return t.svgAsDataUri(e,n||{})})).then((function(e){return t.download(r,e,o)}))};t.saveSvgAsPng=function(e,r,n){var o=T();return c(e).then((function(e){return t.svgAsPngUri(e,n||{})})).then((function(e){return t.download(r,e,o)}))}})();export default e;

