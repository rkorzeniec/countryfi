var t={};t=function(){var t="",e,o,n,i=[];var s={passive:true};if(window.addEventListener){e="addEventListener";o="removeEventListener"}else{e="attachEvent";o="detachEvent";t="on"}n="onwheel"in document.createElement("div")?"wheel":void 0!==document.onmousewheel?"mousewheel":"DOMMouseScroll";function createCallback(t,e){var fn=function(t){!t&&(t=window.event);var o={originalEvent:t,target:t.target||t.srcElement,type:"wheel",deltaMode:"MozMousePixelScroll"==t.type?0:1,deltaX:0,delatZ:0,preventDefault:function(){t.preventDefault?t.preventDefault():t.returnValue=false}};if("mousewheel"==n){o.deltaY=-1/40*t.wheelDelta;t.wheelDeltaX&&(o.deltaX=-1/40*t.wheelDeltaX)}else o.deltaY=t.detail;return e(o)};i.push({element:t,fn:fn});return fn}function getCallback(t){for(var e=0;e<i.length;e++)if(i[e].element===t)return i[e].fn;return function(){}}function removeCallback(t){for(var e=0;e<i.length;e++)if(i[e].element===t)return i.splice(e,1)}function _addWheelListener(o,i,r,a){var l;l="wheel"===n?r:createCallback(o,r);o[e](t+i,l,!!a&&s)}function _removeWheelListener(e,i,r,a){var l;l="wheel"===n?r:getCallback(e);e[o](t+i,l,!!a&&s);removeCallback(e)}function addWheelListener(t,e,o){_addWheelListener(t,n,e,o);"DOMMouseScroll"==n&&_addWheelListener(t,"MozMousePixelScroll",e,o)}function removeWheelListener(t,e,o){_removeWheelListener(t,n,e,o);"DOMMouseScroll"==n&&_removeWheelListener(t,"MozMousePixelScroll",e,o)}return{on:addWheelListener,off:removeWheelListener}}();var e=t;var o="undefined"!==typeof globalThis?globalThis:"undefined"!==typeof self?self:global;var n={};n={extend:function(t,e){t=t||{};for(var o in e)this.isObject(e[o])?t[o]=this.extend(t[o],e[o]):t[o]=e[o];return t},isElement:function(t){return t instanceof HTMLElement||t instanceof SVGElement||t instanceof SVGSVGElement||t&&"object"===typeof t&&null!==t&&1===t.nodeType&&"string"===typeof t.nodeName},isObject:function(t){return"[object Object]"===Object.prototype.toString.call(t)},isNumber:function(t){return!isNaN(parseFloat(t))&&isFinite(t)},getSvg:function(t){var e,o;if(this.isElement(t))e=t;else{if(!("string"===typeof t||t instanceof String)){throw new Error("Provided selector is not an HTML object nor String");return null}e=document.querySelector(t);if(!e){throw new Error("Provided selector did not find any elements. Selector: "+t);return null}}if("svg"===e.tagName.toLowerCase())o=e;else if("object"===e.tagName.toLowerCase())o=e.contentDocument.documentElement;else{if("embed"!==e.tagName.toLowerCase()){throw"img"===e.tagName.toLowerCase()?new Error('Cannot script an SVG in an "img" element. Please use an "object" element or an in-line SVG.'):new Error("Cannot get SVG.");return null}o=e.getSVGDocument().documentElement}return o},proxy:function(t,e){return function(){return t.apply(e,arguments)}},getType:function(t){return Object.prototype.toString.apply(t).replace(/^\[object\s/,"").replace(/\]$/,"")},mouseAndTouchNormalize:function(t,e){if(void 0===t.clientX||null===t.clientX){t.clientX=0;t.clientY=0;if(void 0!==t.touches&&t.touches.length){if(void 0!==t.touches[0].clientX){t.clientX=t.touches[0].clientX;t.clientY=t.touches[0].clientY}else if(void 0!==t.touches[0].pageX){var o=e.getBoundingClientRect();t.clientX=t.touches[0].pageX-o.left;t.clientY=t.touches[0].pageY-o.top}}else if(void 0!==t.originalEvent&&void 0!==t.originalEvent.clientX){t.clientX=t.originalEvent.clientX;t.clientY=t.originalEvent.clientY}}},isDblClick:function(t,e){if(2===t.detail)return true;if(void 0!==e&&null!==e){var o=t.timeStamp-e.timeStamp,n=Math.sqrt(Math.pow(t.clientX-e.clientX,2)+Math.pow(t.clientY-e.clientY,2));return o<250&&n<10}return false},now:Date.now||function(){return(new Date).getTime()},throttle:function(t,e,n){var i=this||o;var s,r,a;var l=null;var u=0;n||(n={});var later=function(){u=false===n.leading?0:i.now();l=null;a=t.apply(s,r);l||(s=r=null)};return function(){var h=i.now();u||false!==n.leading||(u=h);var c=e-(h-u);s=this||o;r=arguments;if(c<=0||c>e){clearTimeout(l);l=null;u=h;a=t.apply(s,r);l||(s=r=null)}else l||false===n.trailing||(l=setTimeout(later,c));return a}},createRequestAnimationFrame:function(t){var e=null;"auto"!==t&&t<60&&t>1&&(e=Math.floor(1e3/t));return null===e?window.requestAnimationFrame||requestTimeout(33):requestTimeout(e)}};function requestTimeout(t){return function(e){window.setTimeout(e,t)}}var i=n;var s="undefined"!==typeof globalThis?globalThis:"undefined"!==typeof self?self:global;var r={};var a=i,l="unknown";
/*@cc_on!@*/
!false&&!document.documentMode||(l="ie");r={svgNS:"http://www.w3.org/2000/svg",xmlNS:"http://www.w3.org/XML/1998/namespace",xmlnsNS:"http://www.w3.org/2000/xmlns/",xlinkNS:"http://www.w3.org/1999/xlink",evNS:"http://www.w3.org/2001/xml-events",getBoundingClientRectNormalized:function(t){if(t.clientWidth&&t.clientHeight)return{width:t.clientWidth,height:t.clientHeight};if(!t.getBoundingClientRect())throw new Error("Cannot get BoundingClientRect for SVG.");return t.getBoundingClientRect()},getOrCreateViewport:function(t,e){var o=null;o=a.isElement(e)?e:t.querySelector(e);if(!o){var n=Array.prototype.slice.call(t.childNodes||t.children).filter((function(t){return"defs"!==t.nodeName&&"#text"!==t.nodeName}));1===n.length&&"g"===n[0].nodeName&&null===n[0].getAttribute("transform")&&(o=n[0])}if(!o){var i="viewport-"+(new Date).toISOString().replace(/\D/g,"");o=document.createElementNS((this||s).svgNS,"g");o.setAttribute("id",i);var r=t.childNodes||t.children;if(!!r&&r.length>0)for(var l=r.length;l>0;l--)"defs"!==r[r.length-l].nodeName&&o.appendChild(r[r.length-l]);t.appendChild(o)}var u=[];o.getAttribute("class")&&(u=o.getAttribute("class").split(" "));if(!~u.indexOf("svg-pan-zoom_viewport")){u.push("svg-pan-zoom_viewport");o.setAttribute("class",u.join(" "))}return o},setupSvgAttributes:function(t){t.setAttribute("xmlns",(this||s).svgNS);t.setAttributeNS((this||s).xmlnsNS,"xmlns:xlink",(this||s).xlinkNS);t.setAttributeNS((this||s).xmlnsNS,"xmlns:ev",(this||s).evNS);if(null!==t.parentNode){var e=t.getAttribute("style")||"";-1===e.toLowerCase().indexOf("overflow")&&t.setAttribute("style","overflow: hidden; "+e)}},internetExplorerRedisplayInterval:300,refreshDefsGlobal:a.throttle((function(){var t=document.querySelectorAll("defs");var e=t.length;for(var o=0;o<e;o++){var n=t[o];n.parentNode.insertBefore(n,n)}}),r?r.internetExplorerRedisplayInterval:null),setCTM:function(t,e,o){var n=this||s,i="matrix("+e.a+","+e.b+","+e.c+","+e.d+","+e.e+","+e.f+")";t.setAttributeNS(null,"transform",i);"transform"in t.style?t.style.transform=i:"-ms-transform"in t.style?t.style["-ms-transform"]=i:"-webkit-transform"in t.style&&(t.style["-webkit-transform"]=i);if("ie"===l&&!!o){o.parentNode.insertBefore(o,o);window.setTimeout((function(){n.refreshDefsGlobal()}),n.internetExplorerRedisplayInterval)}},getEventPoint:function(t,e){var o=e.createSVGPoint();a.mouseAndTouchNormalize(t,e);o.x=t.clientX;o.y=t.clientY;return o},getSvgCenterPoint:function(t,e,o){return this.createSVGPoint(t,e/2,o/2)},createSVGPoint:function(t,e,o){var n=t.createSVGPoint();n.x=e;n.y=o;return n}};var u=r;var h="undefined"!==typeof globalThis?globalThis:"undefined"!==typeof self?self:global;var c={};var p=u;c={enable:function(t){var e=t.svg.querySelector("defs");if(!e){e=document.createElementNS(p.svgNS,"defs");t.svg.appendChild(e)}var o=e.querySelector("style#svg-pan-zoom-controls-styles");if(!o){var n=document.createElementNS(p.svgNS,"style");n.setAttribute("id","svg-pan-zoom-controls-styles");n.setAttribute("type","text/css");n.textContent=".svg-pan-zoom-control { cursor: pointer; fill: black; fill-opacity: 0.333; } .svg-pan-zoom-control:hover { fill-opacity: 0.8; } .svg-pan-zoom-control-background { fill: white; fill-opacity: 0.5; } .svg-pan-zoom-control-background { fill-opacity: 0.8; }";e.appendChild(n)}var i=document.createElementNS(p.svgNS,"g");i.setAttribute("id","svg-pan-zoom-controls");i.setAttribute("transform","translate("+(t.width-70)+" "+(t.height-76)+") scale(0.75)");i.setAttribute("class","svg-pan-zoom-control");i.appendChild(this._createZoomIn(t));i.appendChild(this._createZoomReset(t));i.appendChild(this._createZoomOut(t));t.svg.appendChild(i);t.controlIcons=i},_createZoomIn:function(t){var e=document.createElementNS(p.svgNS,"g");e.setAttribute("id","svg-pan-zoom-zoom-in");e.setAttribute("transform","translate(30.5 5) scale(0.015)");e.setAttribute("class","svg-pan-zoom-control");e.addEventListener("click",(function(){t.getPublicInstance().zoomIn()}),false);e.addEventListener("touchstart",(function(){t.getPublicInstance().zoomIn()}),false);var o=document.createElementNS(p.svgNS,"rect");o.setAttribute("x","0");o.setAttribute("y","0");o.setAttribute("width","1500");o.setAttribute("height","1400");o.setAttribute("class","svg-pan-zoom-control-background");e.appendChild(o);var n=document.createElementNS(p.svgNS,"path");n.setAttribute("d","M1280 576v128q0 26 -19 45t-45 19h-320v320q0 26 -19 45t-45 19h-128q-26 0 -45 -19t-19 -45v-320h-320q-26 0 -45 -19t-19 -45v-128q0 -26 19 -45t45 -19h320v-320q0 -26 19 -45t45 -19h128q26 0 45 19t19 45v320h320q26 0 45 19t19 45zM1536 1120v-960 q0 -119 -84.5 -203.5t-203.5 -84.5h-960q-119 0 -203.5 84.5t-84.5 203.5v960q0 119 84.5 203.5t203.5 84.5h960q119 0 203.5 -84.5t84.5 -203.5z");n.setAttribute("class","svg-pan-zoom-control-element");e.appendChild(n);return e},_createZoomReset:function(t){var e=document.createElementNS(p.svgNS,"g");e.setAttribute("id","svg-pan-zoom-reset-pan-zoom");e.setAttribute("transform","translate(5 35) scale(0.4)");e.setAttribute("class","svg-pan-zoom-control");e.addEventListener("click",(function(){t.getPublicInstance().reset()}),false);e.addEventListener("touchstart",(function(){t.getPublicInstance().reset()}),false);var o=document.createElementNS(p.svgNS,"rect");o.setAttribute("x","2");o.setAttribute("y","2");o.setAttribute("width","182");o.setAttribute("height","58");o.setAttribute("class","svg-pan-zoom-control-background");e.appendChild(o);var n=document.createElementNS(p.svgNS,"path");n.setAttribute("d","M33.051,20.632c-0.742-0.406-1.854-0.609-3.338-0.609h-7.969v9.281h7.769c1.543,0,2.701-0.188,3.473-0.562c1.365-0.656,2.048-1.953,2.048-3.891C35.032,22.757,34.372,21.351,33.051,20.632z");n.setAttribute("class","svg-pan-zoom-control-element");e.appendChild(n);var i=document.createElementNS(p.svgNS,"path");i.setAttribute("d","M170.231,0.5H15.847C7.102,0.5,0.5,5.708,0.5,11.84v38.861C0.5,56.833,7.102,61.5,15.847,61.5h154.384c8.745,0,15.269-4.667,15.269-10.798V11.84C185.5,5.708,178.976,0.5,170.231,0.5z M42.837,48.569h-7.969c-0.219-0.766-0.375-1.383-0.469-1.852c-0.188-0.969-0.289-1.961-0.305-2.977l-0.047-3.211c-0.03-2.203-0.41-3.672-1.142-4.406c-0.732-0.734-2.103-1.102-4.113-1.102h-7.05v13.547h-7.055V14.022h16.524c2.361,0.047,4.178,0.344,5.45,0.891c1.272,0.547,2.351,1.352,3.234,2.414c0.731,0.875,1.31,1.844,1.737,2.906s0.64,2.273,0.64,3.633c0,1.641-0.414,3.254-1.242,4.84s-2.195,2.707-4.102,3.363c1.594,0.641,2.723,1.551,3.387,2.73s0.996,2.98,0.996,5.402v2.32c0,1.578,0.063,2.648,0.19,3.211c0.19,0.891,0.635,1.547,1.333,1.969V48.569z M75.579,48.569h-26.18V14.022h25.336v6.117H56.454v7.336h16.781v6H56.454v8.883h19.125V48.569z M104.497,46.331c-2.44,2.086-5.887,3.129-10.34,3.129c-4.548,0-8.125-1.027-10.731-3.082s-3.909-4.879-3.909-8.473h6.891c0.224,1.578,0.662,2.758,1.316,3.539c1.196,1.422,3.246,2.133,6.15,2.133c1.739,0,3.151-0.188,4.236-0.562c2.058-0.719,3.087-2.055,3.087-4.008c0-1.141-0.504-2.023-1.512-2.648c-1.008-0.609-2.607-1.148-4.796-1.617l-3.74-0.82c-3.676-0.812-6.201-1.695-7.576-2.648c-2.328-1.594-3.492-4.086-3.492-7.477c0-3.094,1.139-5.664,3.417-7.711s5.623-3.07,10.036-3.07c3.685,0,6.829,0.965,9.431,2.895c2.602,1.93,3.966,4.73,4.093,8.402h-6.938c-0.128-2.078-1.057-3.555-2.787-4.43c-1.154-0.578-2.587-0.867-4.301-0.867c-1.907,0-3.428,0.375-4.565,1.125c-1.138,0.75-1.706,1.797-1.706,3.141c0,1.234,0.561,2.156,1.682,2.766c0.721,0.406,2.25,0.883,4.589,1.43l6.063,1.43c2.657,0.625,4.648,1.461,5.975,2.508c2.059,1.625,3.089,3.977,3.089,7.055C108.157,41.624,106.937,44.245,104.497,46.331z M139.61,48.569h-26.18V14.022h25.336v6.117h-18.281v7.336h16.781v6h-16.781v8.883h19.125V48.569z M170.337,20.14h-10.336v28.43h-7.266V20.14h-10.383v-6.117h27.984V20.14z");i.setAttribute("class","svg-pan-zoom-control-element");e.appendChild(i);return e},_createZoomOut:function(t){var e=document.createElementNS(p.svgNS,"g");e.setAttribute("id","svg-pan-zoom-zoom-out");e.setAttribute("transform","translate(30.5 70) scale(0.015)");e.setAttribute("class","svg-pan-zoom-control");e.addEventListener("click",(function(){t.getPublicInstance().zoomOut()}),false);e.addEventListener("touchstart",(function(){t.getPublicInstance().zoomOut()}),false);var o=document.createElementNS(p.svgNS,"rect");o.setAttribute("x","0");o.setAttribute("y","0");o.setAttribute("width","1500");o.setAttribute("height","1400");o.setAttribute("class","svg-pan-zoom-control-background");e.appendChild(o);var n=document.createElementNS(p.svgNS,"path");n.setAttribute("d","M1280 576v128q0 26 -19 45t-45 19h-896q-26 0 -45 -19t-19 -45v-128q0 -26 19 -45t45 -19h896q26 0 45 19t19 45zM1536 1120v-960q0 -119 -84.5 -203.5t-203.5 -84.5h-960q-119 0 -203.5 84.5t-84.5 203.5v960q0 119 84.5 203.5t203.5 84.5h960q119 0 203.5 -84.5 t84.5 -203.5z");n.setAttribute("class","svg-pan-zoom-control-element");e.appendChild(n);return e},disable:function(t){if(t.controlIcons){t.controlIcons.parentNode.removeChild(t.controlIcons);t.controlIcons=null}}};var v=c;var f="undefined"!==typeof globalThis?globalThis:"undefined"!==typeof self?self:global;var m={};var d=u,g=i;var ShadowViewport=function(t,e){this.init(t,e)};ShadowViewport.prototype.init=function(t,e){(this||f).viewport=t;(this||f).options=e;(this||f).originalState={zoom:1,x:0,y:0};(this||f).activeState={zoom:1,x:0,y:0};(this||f).updateCTMCached=g.proxy((this||f).updateCTM,this||f);(this||f).requestAnimationFrame=g.createRequestAnimationFrame((this||f).options.refreshRate);(this||f).viewBox={x:0,y:0,width:0,height:0};this.cacheViewBox();var o=this.processCTM();this.setCTM(o);this.updateCTM()};ShadowViewport.prototype.cacheViewBox=function(){var t=(this||f).options.svg.getAttribute("viewBox");if(t){var e=t.split(/[\s\,]/).filter((function(t){return t})).map(parseFloat);(this||f).viewBox.x=e[0];(this||f).viewBox.y=e[1];(this||f).viewBox.width=e[2];(this||f).viewBox.height=e[3];var o=Math.min((this||f).options.width/(this||f).viewBox.width,(this||f).options.height/(this||f).viewBox.height);(this||f).activeState.zoom=o;(this||f).activeState.x=((this||f).options.width-(this||f).viewBox.width*o)/2;(this||f).activeState.y=((this||f).options.height-(this||f).viewBox.height*o)/2;this.updateCTMOnNextFrame();(this||f).options.svg.removeAttribute("viewBox")}else this.simpleViewBoxCache()};ShadowViewport.prototype.simpleViewBoxCache=function(){var t=(this||f).viewport.getBBox();(this||f).viewBox.x=t.x;(this||f).viewBox.y=t.y;(this||f).viewBox.width=t.width;(this||f).viewBox.height=t.height};ShadowViewport.prototype.getViewBox=function(){return g.extend({},(this||f).viewBox)};ShadowViewport.prototype.processCTM=function(){var t=this.getCTM();if((this||f).options.fit||(this||f).options.contain){var e;e=(this||f).options.fit?Math.min((this||f).options.width/(this||f).viewBox.width,(this||f).options.height/(this||f).viewBox.height):Math.max((this||f).options.width/(this||f).viewBox.width,(this||f).options.height/(this||f).viewBox.height);t.a=e;t.d=e;t.e=-(this||f).viewBox.x*e;t.f=-(this||f).viewBox.y*e}if((this||f).options.center){var o=.5*((this||f).options.width-((this||f).viewBox.width+2*(this||f).viewBox.x)*t.a),n=.5*((this||f).options.height-((this||f).viewBox.height+2*(this||f).viewBox.y)*t.a);t.e=o;t.f=n}(this||f).originalState.zoom=t.a;(this||f).originalState.x=t.e;(this||f).originalState.y=t.f;return t};ShadowViewport.prototype.getOriginalState=function(){return g.extend({},(this||f).originalState)};ShadowViewport.prototype.getState=function(){return g.extend({},(this||f).activeState)};ShadowViewport.prototype.getZoom=function(){return(this||f).activeState.zoom};ShadowViewport.prototype.getRelativeZoom=function(){return(this||f).activeState.zoom/(this||f).originalState.zoom};ShadowViewport.prototype.computeRelativeZoom=function(t){return t/(this||f).originalState.zoom};ShadowViewport.prototype.getPan=function(){return{x:(this||f).activeState.x,y:(this||f).activeState.y}};ShadowViewport.prototype.getCTM=function(){var t=(this||f).options.svg.createSVGMatrix();t.a=(this||f).activeState.zoom;t.b=0;t.c=0;t.d=(this||f).activeState.zoom;t.e=(this||f).activeState.x;t.f=(this||f).activeState.y;return t};ShadowViewport.prototype.setCTM=function(t){var e=this.isZoomDifferent(t),o=this.isPanDifferent(t);if(e||o){if(e)if(false===(this||f).options.beforeZoom(this.getRelativeZoom(),this.computeRelativeZoom(t.a))){t.a=t.d=(this||f).activeState.zoom;e=false}else{this.updateCache(t);(this||f).options.onZoom(this.getRelativeZoom())}if(o){var n=(this||f).options.beforePan(this.getPan(),{x:t.e,y:t.f}),i=false,s=false;if(false===n){t.e=this.getPan().x;t.f=this.getPan().y;i=s=true}else if(g.isObject(n)){if(false===n.x){t.e=this.getPan().x;i=true}else g.isNumber(n.x)&&(t.e=n.x);if(false===n.y){t.f=this.getPan().y;s=true}else g.isNumber(n.y)&&(t.f=n.y)}if(i&&s||!this.isPanDifferent(t))o=false;else{this.updateCache(t);(this||f).options.onPan(this.getPan())}}(e||o)&&this.updateCTMOnNextFrame()}};ShadowViewport.prototype.isZoomDifferent=function(t){return(this||f).activeState.zoom!==t.a};ShadowViewport.prototype.isPanDifferent=function(t){return(this||f).activeState.x!==t.e||(this||f).activeState.y!==t.f};ShadowViewport.prototype.updateCache=function(t){(this||f).activeState.zoom=t.a;(this||f).activeState.x=t.e;(this||f).activeState.y=t.f};ShadowViewport.prototype.pendingUpdate=false;ShadowViewport.prototype.updateCTMOnNextFrame=function(){if(!(this||f).pendingUpdate){(this||f).pendingUpdate=true;(this||f).requestAnimationFrame.call(window,(this||f).updateCTMCached)}};ShadowViewport.prototype.updateCTM=function(){var t=this.getCTM();d.setCTM((this||f).viewport,t,(this||f).defs);(this||f).pendingUpdate=false;(this||f).options.onUpdatedCTM&&(this||f).options.onUpdatedCTM(t)};m=function(t,e){return new ShadowViewport(t,e)};var b=m;var w="undefined"!==typeof globalThis?globalThis:"undefined"!==typeof self?self:global;var y={};var x=e,S=v,M=i,E=u,C=b;var SvgPanZoom=function(t,e){this.init(t,e)};var z={viewportSelector:".svg-pan-zoom_viewport",panEnabled:true,controlIconsEnabled:false,zoomEnabled:true,dblClickZoomEnabled:true,mouseWheelZoomEnabled:true,preventMouseEventsDefault:true,zoomScaleSensitivity:.1,minZoom:.5,maxZoom:10,fit:true,contain:false,center:true,refreshRate:"auto",beforeZoom:null,onZoom:null,beforePan:null,onPan:null,customEventsHandler:null,eventsListenerElement:null,onUpdatedCTM:null};var Z={passive:true};SvgPanZoom.prototype.init=function(t,e){var o=this||w;(this||w).svg=t;(this||w).defs=t.querySelector("defs");E.setupSvgAttributes((this||w).svg);(this||w).options=M.extend(M.extend({},z),e);(this||w).state="none";var n=E.getBoundingClientRectNormalized(t);(this||w).width=n.width;(this||w).height=n.height;(this||w).viewport=C(E.getOrCreateViewport((this||w).svg,(this||w).options.viewportSelector),{svg:(this||w).svg,width:(this||w).width,height:(this||w).height,fit:(this||w).options.fit,contain:(this||w).options.contain,center:(this||w).options.center,refreshRate:(this||w).options.refreshRate,beforeZoom:function(t,e){if(o.viewport&&o.options.beforeZoom)return o.options.beforeZoom(t,e)},onZoom:function(t){if(o.viewport&&o.options.onZoom)return o.options.onZoom(t)},beforePan:function(t,e){if(o.viewport&&o.options.beforePan)return o.options.beforePan(t,e)},onPan:function(t){if(o.viewport&&o.options.onPan)return o.options.onPan(t)},onUpdatedCTM:function(t){if(o.viewport&&o.options.onUpdatedCTM)return o.options.onUpdatedCTM(t)}});var i=this.getPublicInstance();i.setBeforeZoom((this||w).options.beforeZoom);i.setOnZoom((this||w).options.onZoom);i.setBeforePan((this||w).options.beforePan);i.setOnPan((this||w).options.onPan);i.setOnUpdatedCTM((this||w).options.onUpdatedCTM);(this||w).options.controlIconsEnabled&&S.enable(this||w);(this||w).lastMouseWheelEventTime=Date.now();this.setupHandlers()};SvgPanZoom.prototype.setupHandlers=function(){var t=this||w,e=null;(this||w).eventListeners={mousedown:function(o){var n=t.handleMouseDown(o,e);e=o;return n},touchstart:function(o){var n=t.handleMouseDown(o,e);e=o;return n},mouseup:function(e){return t.handleMouseUp(e)},touchend:function(e){return t.handleMouseUp(e)},mousemove:function(e){return t.handleMouseMove(e)},touchmove:function(e){return t.handleMouseMove(e)},mouseleave:function(e){return t.handleMouseUp(e)},touchleave:function(e){return t.handleMouseUp(e)},touchcancel:function(e){return t.handleMouseUp(e)}};if(null!=(this||w).options.customEventsHandler){(this||w).options.customEventsHandler.init({svgElement:(this||w).svg,eventsListenerElement:(this||w).options.eventsListenerElement,instance:this.getPublicInstance()});var o=(this||w).options.customEventsHandler.haltEventListeners;if(o&&o.length)for(var n=o.length-1;n>=0;n--)(this||w).eventListeners.hasOwnProperty(o[n])&&delete(this||w).eventListeners[o[n]]}for(var i in(this||w).eventListeners)((this||w).options.eventsListenerElement||(this||w).svg).addEventListener(i,(this||w).eventListeners[i],!(this||w).options.preventMouseEventsDefault&&Z);if((this||w).options.mouseWheelZoomEnabled){(this||w).options.mouseWheelZoomEnabled=false;this.enableMouseWheelZoom()}};SvgPanZoom.prototype.enableMouseWheelZoom=function(){if(!(this||w).options.mouseWheelZoomEnabled){var t=this||w;(this||w).wheelListener=function(e){return t.handleMouseWheel(e)};var e=!(this||w).options.preventMouseEventsDefault;x.on((this||w).options.eventsListenerElement||(this||w).svg,(this||w).wheelListener,e);(this||w).options.mouseWheelZoomEnabled=true}};SvgPanZoom.prototype.disableMouseWheelZoom=function(){if((this||w).options.mouseWheelZoomEnabled){var t=!(this||w).options.preventMouseEventsDefault;x.off((this||w).options.eventsListenerElement||(this||w).svg,(this||w).wheelListener,t);(this||w).options.mouseWheelZoomEnabled=false}};SvgPanZoom.prototype.handleMouseWheel=function(t){if((this||w).options.zoomEnabled&&"none"===(this||w).state){(this||w).options.preventMouseEventsDefault&&(t.preventDefault?t.preventDefault():t.returnValue=false);var e=t.deltaY||1,o=Date.now()-(this||w).lastMouseWheelEventTime,n=3+Math.max(0,30-o);(this||w).lastMouseWheelEventTime=Date.now();"deltaMode"in t&&0===t.deltaMode&&t.wheelDelta&&(e=0===t.deltaY?0:Math.abs(t.wheelDelta)/t.deltaY);e=-.3<e&&e<.3?e:(e>0?1:-1)*Math.log(Math.abs(e)+10)/n;var i=(this||w).svg.getScreenCTM().inverse(),s=E.getEventPoint(t,(this||w).svg).matrixTransform(i),r=Math.pow(1+(this||w).options.zoomScaleSensitivity,-1*e);this.zoomAtPoint(r,s)}};SvgPanZoom.prototype.zoomAtPoint=function(t,e,o){var n=(this||w).viewport.getOriginalState();if(o){t=Math.max((this||w).options.minZoom*n.zoom,Math.min((this||w).options.maxZoom*n.zoom,t));t/=this.getZoom()}else this.getZoom()*t<(this||w).options.minZoom*n.zoom?t=(this||w).options.minZoom*n.zoom/this.getZoom():this.getZoom()*t>(this||w).options.maxZoom*n.zoom&&(t=(this||w).options.maxZoom*n.zoom/this.getZoom());var i=(this||w).viewport.getCTM(),s=e.matrixTransform(i.inverse()),r=(this||w).svg.createSVGMatrix().translate(s.x,s.y).scale(t).translate(-s.x,-s.y),a=i.multiply(r);a.a!==i.a&&(this||w).viewport.setCTM(a)};SvgPanZoom.prototype.zoom=function(t,e){this.zoomAtPoint(t,E.getSvgCenterPoint((this||w).svg,(this||w).width,(this||w).height),e)};SvgPanZoom.prototype.publicZoom=function(t,e){e&&(t=this.computeFromRelativeZoom(t));this.zoom(t,e)};SvgPanZoom.prototype.publicZoomAtPoint=function(t,e,o){o&&(t=this.computeFromRelativeZoom(t));if("SVGPoint"!==M.getType(e)){if(!("x"in e)||!("y"in e))throw new Error("Given point is invalid");e=E.createSVGPoint((this||w).svg,e.x,e.y)}this.zoomAtPoint(t,e,o)};SvgPanZoom.prototype.getZoom=function(){return(this||w).viewport.getZoom()};SvgPanZoom.prototype.getRelativeZoom=function(){return(this||w).viewport.getRelativeZoom()};SvgPanZoom.prototype.computeFromRelativeZoom=function(t){return t*(this||w).viewport.getOriginalState().zoom};SvgPanZoom.prototype.resetZoom=function(){var t=(this||w).viewport.getOriginalState();this.zoom(t.zoom,true)};SvgPanZoom.prototype.resetPan=function(){this.pan((this||w).viewport.getOriginalState())};SvgPanZoom.prototype.reset=function(){this.resetZoom();this.resetPan()};SvgPanZoom.prototype.handleDblClick=function(t){(this||w).options.preventMouseEventsDefault&&(t.preventDefault?t.preventDefault():t.returnValue=false);if((this||w).options.controlIconsEnabled){var e=t.target.getAttribute("class")||"";if(e.indexOf("svg-pan-zoom-control")>-1)return false}var o;o=t.shiftKey?1/(2*(1+(this||w).options.zoomScaleSensitivity)):2*(1+(this||w).options.zoomScaleSensitivity);var n=E.getEventPoint(t,(this||w).svg).matrixTransform((this||w).svg.getScreenCTM().inverse());this.zoomAtPoint(o,n)};SvgPanZoom.prototype.handleMouseDown=function(t,e){(this||w).options.preventMouseEventsDefault&&(t.preventDefault?t.preventDefault():t.returnValue=false);M.mouseAndTouchNormalize(t,(this||w).svg);if((this||w).options.dblClickZoomEnabled&&M.isDblClick(t,e))this.handleDblClick(t);else{(this||w).state="pan";(this||w).firstEventCTM=(this||w).viewport.getCTM();(this||w).stateOrigin=E.getEventPoint(t,(this||w).svg).matrixTransform((this||w).firstEventCTM.inverse())}};SvgPanZoom.prototype.handleMouseMove=function(t){(this||w).options.preventMouseEventsDefault&&(t.preventDefault?t.preventDefault():t.returnValue=false);if("pan"===(this||w).state&&(this||w).options.panEnabled){var e=E.getEventPoint(t,(this||w).svg).matrixTransform((this||w).firstEventCTM.inverse()),o=(this||w).firstEventCTM.translate(e.x-(this||w).stateOrigin.x,e.y-(this||w).stateOrigin.y);(this||w).viewport.setCTM(o)}};SvgPanZoom.prototype.handleMouseUp=function(t){(this||w).options.preventMouseEventsDefault&&(t.preventDefault?t.preventDefault():t.returnValue=false);"pan"===(this||w).state&&((this||w).state="none")};SvgPanZoom.prototype.fit=function(){var t=(this||w).viewport.getViewBox(),e=Math.min((this||w).width/t.width,(this||w).height/t.height);this.zoom(e,true)};SvgPanZoom.prototype.contain=function(){var t=(this||w).viewport.getViewBox(),e=Math.max((this||w).width/t.width,(this||w).height/t.height);this.zoom(e,true)};SvgPanZoom.prototype.center=function(){var t=(this||w).viewport.getViewBox(),e=.5*((this||w).width-(t.width+2*t.x)*this.getZoom()),o=.5*((this||w).height-(t.height+2*t.y)*this.getZoom());this.getPublicInstance().pan({x:e,y:o})};SvgPanZoom.prototype.updateBBox=function(){(this||w).viewport.simpleViewBoxCache()};SvgPanZoom.prototype.pan=function(t){var e=(this||w).viewport.getCTM();e.e=t.x;e.f=t.y;(this||w).viewport.setCTM(e)};SvgPanZoom.prototype.panBy=function(t){var e=(this||w).viewport.getCTM();e.e+=t.x;e.f+=t.y;(this||w).viewport.setCTM(e)};SvgPanZoom.prototype.getPan=function(){var t=(this||w).viewport.getState();return{x:t.x,y:t.y}};SvgPanZoom.prototype.resize=function(){var t=E.getBoundingClientRectNormalized((this||w).svg);(this||w).width=t.width;(this||w).height=t.height;var e=(this||w).viewport;e.options.width=(this||w).width;e.options.height=(this||w).height;e.processCTM();if((this||w).options.controlIconsEnabled){this.getPublicInstance().disableControlIcons();this.getPublicInstance().enableControlIcons()}};SvgPanZoom.prototype.destroy=function(){var t=this||w;(this||w).beforeZoom=null;(this||w).onZoom=null;(this||w).beforePan=null;(this||w).onPan=null;(this||w).onUpdatedCTM=null;null!=(this||w).options.customEventsHandler&&(this||w).options.customEventsHandler.destroy({svgElement:(this||w).svg,eventsListenerElement:(this||w).options.eventsListenerElement,instance:this.getPublicInstance()});for(var e in(this||w).eventListeners)((this||w).options.eventsListenerElement||(this||w).svg).removeEventListener(e,(this||w).eventListeners[e],!(this||w).options.preventMouseEventsDefault&&Z);this.disableMouseWheelZoom();this.getPublicInstance().disableControlIcons();this.reset();P=P.filter((function(e){return e.svg!==t.svg}));delete(this||w).options;delete(this||w).viewport;delete(this||w).publicInstance;delete(this||w).pi;(this||w).getPublicInstance=function(){return null}};SvgPanZoom.prototype.getPublicInstance=function(){var t=this||w;(this||w).publicInstance||((this||w).publicInstance=(this||w).pi={enablePan:function(){t.options.panEnabled=true;return t.pi},disablePan:function(){t.options.panEnabled=false;return t.pi},isPanEnabled:function(){return!!t.options.panEnabled},pan:function(e){t.pan(e);return t.pi},panBy:function(e){t.panBy(e);return t.pi},getPan:function(){return t.getPan()},setBeforePan:function(e){t.options.beforePan=null===e?null:M.proxy(e,t.publicInstance);return t.pi},setOnPan:function(e){t.options.onPan=null===e?null:M.proxy(e,t.publicInstance);return t.pi},enableZoom:function(){t.options.zoomEnabled=true;return t.pi},disableZoom:function(){t.options.zoomEnabled=false;return t.pi},isZoomEnabled:function(){return!!t.options.zoomEnabled},enableControlIcons:function(){if(!t.options.controlIconsEnabled){t.options.controlIconsEnabled=true;S.enable(t)}return t.pi},disableControlIcons:function(){if(t.options.controlIconsEnabled){t.options.controlIconsEnabled=false;S.disable(t)}return t.pi},isControlIconsEnabled:function(){return!!t.options.controlIconsEnabled},enableDblClickZoom:function(){t.options.dblClickZoomEnabled=true;return t.pi},disableDblClickZoom:function(){t.options.dblClickZoomEnabled=false;return t.pi},isDblClickZoomEnabled:function(){return!!t.options.dblClickZoomEnabled},enableMouseWheelZoom:function(){t.enableMouseWheelZoom();return t.pi},disableMouseWheelZoom:function(){t.disableMouseWheelZoom();return t.pi},isMouseWheelZoomEnabled:function(){return!!t.options.mouseWheelZoomEnabled},setZoomScaleSensitivity:function(e){t.options.zoomScaleSensitivity=e;return t.pi},setMinZoom:function(e){t.options.minZoom=e;return t.pi},setMaxZoom:function(e){t.options.maxZoom=e;return t.pi},setBeforeZoom:function(e){t.options.beforeZoom=null===e?null:M.proxy(e,t.publicInstance);return t.pi},setOnZoom:function(e){t.options.onZoom=null===e?null:M.proxy(e,t.publicInstance);return t.pi},zoom:function(e){t.publicZoom(e,true);return t.pi},zoomBy:function(e){t.publicZoom(e,false);return t.pi},zoomAtPoint:function(e,o){t.publicZoomAtPoint(e,o,true);return t.pi},zoomAtPointBy:function(e,o){t.publicZoomAtPoint(e,o,false);return t.pi},zoomIn:function(){this.zoomBy(1+t.options.zoomScaleSensitivity);return t.pi},zoomOut:function(){this.zoomBy(1/(1+t.options.zoomScaleSensitivity));return t.pi},getZoom:function(){return t.getRelativeZoom()},setOnUpdatedCTM:function(e){t.options.onUpdatedCTM=null===e?null:M.proxy(e,t.publicInstance);return t.pi},resetZoom:function(){t.resetZoom();return t.pi},resetPan:function(){t.resetPan();return t.pi},reset:function(){t.reset();return t.pi},fit:function(){t.fit();return t.pi},contain:function(){t.contain();return t.pi},center:function(){t.center();return t.pi},updateBBox:function(){t.updateBBox();return t.pi},resize:function(){t.resize();return t.pi},getSizes:function(){return{width:t.width,height:t.height,realZoom:t.getZoom(),viewBox:t.viewport.getViewBox()}},destroy:function(){t.destroy();return t.pi}});return(this||w).publicInstance};var P=[];var svgPanZoom=function(t,e){var o=M.getSvg(t);if(null===o)return null;for(var n=P.length-1;n>=0;n--)if(P[n].svg===o)return P[n].instance.getPublicInstance();P.push({svg:o,instance:new SvgPanZoom(o,e)});return P[P.length-1].instance.getPublicInstance()};y=svgPanZoom;var T=y;var A={};var N=T;A=N;var B=A;export default B;

