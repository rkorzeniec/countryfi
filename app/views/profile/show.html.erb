<%- unless can_show_profile?(@user) %>
  <%= render 'shared/overlay', message: "Unable to access this profile, it does not exist or is not public.\nSorry." %>
<% end %>
<div  data-action='resize@window->svg-map#resize' data-controller='download-svg svg-map' data-download-svg-filename='world_map' data-shell-target='element'>
  <div class="flex bg-white grid justify-end">
    <%- if current_user?(@user) %>
      <%= render 'profile/map_download' %>
    <% end %>
  </div>
  <div class="flex justify-center relative bg-white p-2 shadow-md shadow-violet-900/5 overflow-hidden mb-5">
    <%= render 'profile/shared/map' %>
  </div>
<div>

<div class="flex items-stretch grid grid-cols-1 xl:grid-cols-2 gap-5">
  <div class="flex justify-evenly relative bg-white p-6 shadow-md shadow-violet-900/5 rounded-xl overflow-hidden grid grid-cols-2 sm:grid-cols-3 md:grid-cols-4 xl:grid-cols-4 content-evenly">
    <%= render 'profile/shared/continent_progress_charts' %>
  </div>
  <div class="flex justify-evenly relative bg-white p-6 shadow-md shadow-violet-900/5 rounded-xl overflow-hidden grid grid-cols-2 sm:grid-cols-3 md:grid-cols-4 xl:grid-cols-4 content-evenly">
    <%= render 'profile/shared/top_countries_chart' %>
  </div>
</div>


.row
  .col-md-12.col-xl-6.px-1.mx-auto

  .col-sm-12.col-md-6.col-xl-3.p-1
    '
  .col-sm-12.col-md-6.col-xl-3.p-1
    = render 'profile/shared/top_regions_chart'
.row
  .col.p-1
    = render 'profile/shared/countries_line_chart'
