- unless public_profile?(@user) || current_user?(@user)
  = render 'shared/overlay', message: "Unable to access this profile, it does not exist or is not public.\nSorry."
.row
  .col-sm-12.p-0.mb-2{ data: { controller: 'download-svg svg-map', action: 'resize@window->svg-map#resize', 'shell-target': 'element', download_svg_filename: 'world_map' } }
    - if current_user?(@user)
      = render 'profile/shared/map_download'
    = render 'profile/shared/map'
.row
  .col-md-12.col-xl-6.px-1
    = render 'profile/shared/continent_progress_charts'
  .col-sm-12.col-md-6.col-xl-3.p-1
    = render 'profile/shared/top_countries_chart'
  .col-sm-12.col-md-6.col-xl-3.p-1
    = render 'profile/shared/top_regions_chart'
.row
  .col.p-1
    = render 'profile/shared/countries_line_chart'
